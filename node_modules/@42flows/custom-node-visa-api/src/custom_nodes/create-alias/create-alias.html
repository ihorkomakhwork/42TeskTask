<script type="text/javascript">
  RED.nodes.registerType('Create alias', {
    category: 'Visa Direct',
    defaults: {
      name: { value: '' },
      guid: { value: '' },
      guidType: { value: '' },
      country: { value: '' },
      countryType: { value: '' },
      city: { value: '', required: false },
      cityType: { value: '' },
      consentDateTime: { value: '' },
      consentDateTimeType: { value: '' },
      recipientFirstName: { value: '' },
      recipientFirstNameType: { value: '' },
      recipientLastName: { value: '' },
      recipientLastNameType: { value: '' },
      recipientPrimaryAccountNumber: { value: '' },
      recipientPrimaryAccountNumberType: { value: '' },
      issuerName: { value: '' },
      issuerNameType: { value: '' },
      filedAlias: { value: '' },
      filedAliasType: { value: '' },
      cardType: { value: '' },
      cardTypeType: { value: '' },
      aliasType: { value: '' },
      aliasTypeType: { value: '' },
    },
    inputs: 1,
    outputs: 3,
    icon: 'visa.svg',
    color: '#2066B1',
    label: function () {
      return this.name || 'Create alias';
    },
    outputLabels: ['Successful response', 'Server and other errors'],
    oneditprepare: function () {
      $('#node-input-guid').typedInput({
        default: 'msg',
        types: ['msg', 'flow', 'global', 'str', 'num'],
        typeField: $('#node-input-guidType'),
      });

      $('#node-input-country').typedInput({
        default: 'msg',
        types: ['msg', 'flow', 'global', 'str', 'num'],
        typeField: $('#node-input-countryType'),
      });
      $('#node-input-city').typedInput({
        default: 'msg',
        types: ['msg', 'flow', 'global', 'str', 'num'],
        typeField: $('#node-input-cityType'),
      });
      $('#node-input-consentDateTime').typedInput({
        default: 'msg',
        types: ['msg', 'flow', 'global', 'str', 'num'],
        typeField: $('#node-input-consentDateTimeType'),
      });
      $('#node-input-recipientFirstName').typedInput({
        default: 'msg',
        types: ['msg', 'flow', 'global', 'str', 'num'],
        typeField: $('#node-input-recipientFirstNameType'),
      });
      $('#node-input-recipientLastName').typedInput({
        default: 'msg',
        types: ['msg', 'flow', 'global', 'str', 'num'],
        typeField: $('#node-input-recipientLastNameType'),
      });
      $('#node-input-recipientPrimaryAccountNumber').typedInput({
        default: 'msg',
        types: ['msg', 'flow', 'global', 'str', 'num'],
        typeField: $('#node-input-recipientPrimaryAccountNumberType'),
      });
      $('#node-input-issuerName').typedInput({
        default: 'msg',
        types: ['msg', 'flow', 'global', 'str', 'num'],
        typeField: $('#node-input-issuerNameType'),
      });
      $('#node-input-filedAlias').typedInput({
        default: 'msg',
        types: ['msg', 'flow', 'global', 'str', 'num'],
        typeField: $('#node-input-filedAliasType'),
      });
      $('#node-input-cardType').typedInput({
        default: 'msg',
        types: ['msg', 'flow', 'global', 'str', 'num'],
        typeField: $('#node-input-cardTypeType'),
      });
      $('#node-input-aliasType').typedInput({
        default: 'msg',
        types: ['msg', 'flow', 'global', 'str', 'num'],
        typeField: $('#node-input-aliasTypeType'),
      });
    }
  })
</script>

<script type="text/html" data-help-name="Create alias">
    <p>This node creates an alias in the alias directory.
    </p>
    <div>
        <h3>Details</h3>
        <dl class="message-properties">
            <p>
                To create alias record(s) with recipient's primary account number (PAN) and related data in the Alias
                Directory.
                You can find more info <a
                    href="https://developer.visa.com/capabilities/visa_direct/reference#tag/Visa-Alias-Directory-API/operation/Create%20Alias_v1">here</a>
            </p>
        </dl>
    </div>
    <div>
        <h3>Inputs</h3>
        <dl class="message-properties">
            <p>
                On input, this node accepts the body fields of the future request.
                All the information about payload you can find <a
                    href="https://developer.visa.com/capabilities/visa_direct/reference#tag/Visa-Alias-Directory-API/operation/Create%20Alias_v1">here.</a>
                You don't need to worry about apiKey or other credentials.
                Node gets them from environment variables.
            </p>
        </dl>
    </div>
    <div>
        <h3>Outputs</h3>
        <dl class="message-properties">
            <p> This node has three outputs. First, use a good response. You can get the results in
                <code>msg.payload</code>.
                Second output for error handling. It throws an error in the next field, <code>msg.error</code>.
                Both outputs send response status in the status field.
            </p>
        </dl>
    </div>
</script>

<style>
  .inputs-design {
  display: flex;
      align-items: center;
      justify-content: flex-start;
      width: 650px;
  }
  </style>

<script type="text/html" data-template-name="Create alias">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="name">
    </div>
  
    <div class="form-row inputs-design">
      <label for="person-info"><strong>User Options</strong></label><br/>
    </div>

    <div class="form-row inputs-design">
      <label for="node-input-recipientFirstName"><i class="fa fa-address-card"></i> First Name</label>
      <input type="text" id="node-input-recipientFirstName" placeholder="First name">
      <input type="hidden" id="node-input-recipientFirstNameType">
  </div>
  <div class="form-row inputs-design">
      <label for="node-input-recipientLastName"><i class="fa fa-address-card"></i> Last Name</label>
      <input type="text" id="node-input-recipientLastName" placeholder="Last Name">
      <input type="hidden" id="node-input-recipientLastNameType">
  </div>
  <div class="form-row inputs-design">
      <label for="node-input-recipientPrimaryAccountNumber"><i class="fa fa-address-card"></i> Account</label>
      <input type="text" id="node-input-recipientPrimaryAccountNumber" placeholder="Account">
      <input type="hidden" id="node-input-recipientPrimaryAccountNumberType">
  </div>
  <div class="form-row inputs-design">
      <label for="node-input-issuerName"><i class="fa fa-address-card"></i> Issuer Name</label>
      <input type="text" id="node-input-issuerName" placeholder="Issuer Name">
      <input type="hidden" id="node-input-issuerNameType">
  </div>

    <div class="form-row inputs-design">
        <label for="node-input-country"><i class="fa fa-address-card"></i> Country</label>
        <input type="text" id="node-input-country" placeholder="Country">
        <input type="hidden" id="node-input-countryType">
    </div>
    <div class="form-row inputs-design">
        <label for="node-input-city"><i class="fa fa-address-card"></i> City</label>
        <input type="text" id="node-input-city" placeholder="City">
        <input type="hidden" id="node-input-cityType">
    </div>

    <div class="form-row inputs-design">
      <label for="person-info"><strong>Extra Options</strong></label><br/>
    </div>

    <div class="form-row inputs-design">
      <label for="node-input-guid"><i class="fa fa-tag"></i> Guid</label>
      <input type="text" id="node-input-guid" placeholder="Guid">
      <input type="hidden" id="node-input-guidType">
  </div>

    <div class="form-row inputs-design">
      <label for="node-input-filedAlias"><i class="fa fa-tag"></i> Alias</label>
      <input type="text" id="node-input-filedAlias" placeholder="Alias">
      <input type="hidden" id="node-input-filedAliasType">
  </div>
    
    <div class="form-row inputs-design">
        <label for="node-input-consentDateTime"><i class="fa fa-tag"></i> Consent Date</label>
        <input type="text" id="node-input-consentDateTime" placeholder="Consent DateTime">
        <input type="hidden" id="node-input-consentDateTimeType">
    </div>

    <div class="form-row inputs-design">
        <label for="node-input-cardType"><i class="fa fa-tag"></i> Card Type</label>
        <input type="text" id="node-input-cardType" placeholder="Card Type">
        <input type="hidden" id="node-input-cardTypeType">
    </div>

    <div class="form-row inputs-design">
        <label for="node-input-aliasType"><i class="fa fa-tag"></i> Alias Type</label>
        <input type="text" id="node-input-aliasType" placeholder="Alias Type">
        <input type="hidden" id="node-input-aliasTypeType">
    </div>
</script>