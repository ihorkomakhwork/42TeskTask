const { instanceVisaAPI, getXPayToken } = require('../utils');
const { methods, routers, routersForToken } = require('../enum');

async function createAlias({ body }) {
  const xPayToken = getXPayToken({
    body,
    resourcePath: routersForToken.CREATE_ALIAS,
  });
  const response = await instanceVisaAPI.request({
    method: methods.post,
    url: routers.CREATE_ALIAS,
    data: body,
    headers: {
      'x-pay-token': xPayToken,
    },
  });

  return response;
}

module.exports = { createAlias };
