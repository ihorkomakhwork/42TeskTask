const { instanceVisaAPI, getXPayToken } = require('../utils');
const { methods, routers, routersForToken } = require('../enum');

async function reverseFundsTransactions({ body }) {
  const xPayToken = getXPayToken({
    body,
    resourcePath: routersForToken.REVERSE_FUNDS_TRANSACTIONS,
  });

  const response = await instanceVisaAPI.request({
    method: methods.post,
    url: routers.REVERSE_FUNDS_TRANSACTIONS,
    data: body,
    headers: {
      'x-pay-token': xPayToken,
    },
  });

  return response;
}

module.exports = { reverseFundsTransactions };
